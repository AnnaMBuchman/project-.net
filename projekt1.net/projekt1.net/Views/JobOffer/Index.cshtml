@model IEnumerable<JobOffer>

<div class="row page-box">
    <div class="col-sm-12">
        <div class="table-title">
            <div class="row">
                <div class="col-12 col-md-4 d-flex align-items-center py-2">
                    <h3 class="font-weight-bold mb-0">
                        Job Offer list
                    </h3>
                    <div>
                        <span class="badge badge-pill badge-primary align-top">
                            @Model.Count()
                        </span>
                    </div>
                </div>

                @*<div class="col-12 col-md-4 py-2">
                    <div class="input-group search-input"
                         style="border-radius: 20px">
                        <input id="prodId" name="search"
                               type="text"
                               class="form-control"
                               placeholder="Search by offer title.."
                               aria-label="Search by offer title"
                               aria-describedby="button-search">
                        <div class="input-group-append">
                            <button id="button-search"
                                    class="btn btn-primary"
                                    type="submit" onclick="find();">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>*@
                    @using (Html.BeginForm("Index", "JobOffer", FormMethod.Get))
                        {
                            <div class="input-group search-input"
                                 style="border-radius: 20px">
                                <input name="search"
                                       type="text"
                                       class="form-control"
                                       placeholder="Search by offer title.."
                                       aria-label="Search by offer title"
                                       aria-describedby="button-search">
                                <div class="input-group-append">
                                    <button id="button-search"
                                            class="btn btn-primary"
                                            type="submit">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        }
                </div>
                <div class="col-12 col-sm-4 text-right py-2">
                    <a href="@Url.Action("Create", "JobOffer")">
                        <button class="btn btn-rounded btn-outline-primary"
                                data-toggle="modal">
                            <i class="fa fa-plus pr-3"></i>
                            Add Job Offer
                        </button>
                    </a>
                </div>
            </div>
        </div>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>
                        <span class="custom-checkbox">
                            <input type="checkbox" id="selectAll">
                            <label for="selectAll"></label>
                        </span>
                    </th>
                    <th scope="col">Job Title</th>
                    <th scope="col">Company</th>
                    <th scope="col">Location</th>
                    <th scope="col">Created</th>
                    <th style="width: 20px"></th>
                </tr>
            </thead>
            <tbody >
                   @foreach (var offer in Model.OrderBy(o => o.Created))
                    {
                        <tr>
                            <td>
                                <span class="custom-checkbox">
                                    <input type="checkbox" id="checkbox1" name="options[]" value="1">
                                    <label for="checkbox1"></label>
                                </span>
                            </td>
                            <td>@Html.ActionLink(offer.JobTitle, "Details", new { id = offer.Id })</td>
                            <td>@offer.Company.Name</td>
                            <td>@offer.Location</td>
                            <td>@offer.Created</td>
                            <td>
                                <a href="@Url.Action("Edit", "JobOffer", new { id = offer.Id })"
                                   class="text-primary">
                                    <i class="fas fa-edit"
                                       title="Edit"></i>
                                </a>
                            </td>
                        </tr>
                    }

                </tbody>
        </table>

    </div>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    @*<script>
        function find() {
            var id = $('#prodId').val();
             console.log("ishvbiwdbviy");
            $.getJSON('/api/JobOffer/Index' + '?search=' + id , function (data) {
                var items = [];                        

                $each(data, function (key, val) {
                    items.push("<tr>");
                        items.push("<td>" + val.Id+ "</td>");
                        items.push("<td>" + val.Company.Name + "</td>");
                        items.push("<td>" + val.Location + "</td>");
                        items.push("<td>" + val.Created + "</td>");
                    items.push("</tr>");

                    console.log("ishvbiwdbviy");
                    });
                    $("<tbody/>", { html: items.join("") }).appendTo("table");

        });
    }*@
    </script>
</div>

@*iteams.push("<td>
        <a href="@Url.Action("Edit", "JobOffer", new { id = "+val.Id "})"
           class="text-primary">
            <i class="fas fa-edit"
               title="Edit"></i>
        </a>
    </td>");*@










@*@model IEnumerable<JobOffer>

    <div class="row page-box">
        <div class="col-sm-12">
            <div class="col-12 col-md-4 d-flex align-items-center py-2">
                        <h3 class="font-weight-bold mb-0">
                            Job Offer list
                        </h3>
                        <div>
                            <span class="badge badge-pill badge-primary align-top" >
                                @Model.Count()
                            </span>
                        </div>
                    </div>
            @using (Html.BeginForm("Index", "JobOffer", FormMethod.Get))
            {
                <div class="input-group col-md-12" style="margin-bottom: 14px">
                    <input type="text" class="form-control" placeholder="Search by offer title.."
                           name="search" id="search" />
                    <span class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </span>
                </div>
            }
            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Job Title</th>
                        <th scope="col">Company</th>
                        <th scope="col">Location</th>
                        <th scope="col">Created</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var offer in Model.OrderBy(o => o.Created))
                    {
                        <tr>
                            <td>@Html.ActionLink(offer.JobTitle, "Details", new { id = offer.Id })</td>
                            <td>@offer.Company.Name</td>
                            <td>@offer.Location</td>
                            <td>@offer.Created</td>
                        </tr>
                    }
                </tbody>
            </table>
            @Html.ActionLink("Create job offer", "Create", "JobOffer", null, new { @class = "btn btn-primary" })
        </div>
    </div>*@







@*@model List<JobOffer>

    @{
        ViewData["Title"] = "Index";
    }

    <h2>Index</h2>
    <ul>
        @foreach (var offer in Model.OrderBy(o => o.JobTitle))
        {
            <li>@Html.ActionLink(offer.JobTitle, "Details", new { id = offer.Id })</li>
        }
    </ul>*@

